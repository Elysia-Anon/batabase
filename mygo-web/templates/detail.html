{% extends 'layout.html' %}

{% block content %}
<hgroup>
    <h2>{{ band.name }}</h2>
    <h3>é˜Ÿé•¿: {{ band.leader_name }}</h3>
</hgroup>

<hr>

<h3>ğŸ¤ æˆå‘˜åå•</h3>
<figure>
    <table role="grid">
        <thead>
            <tr>
                <th>å§“å</th>
                <th>æ€§åˆ«</th>
                <th>æ‹…å½“ä½ç½®</th>
                <th>å¹´é¾„</th>
            </tr>
        </thead>
        <tbody>
            {% for m in members %}
            <tr>
                <td>{{ m.name }}</td>
                <td>{{ m.gender }}</td>
                <td>{{ m.role }}</td>
                <td>{{ m.age }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</figure>

{% if stats %}
<hr>
<h3>ğŸ“Š ç²‰ä¸å¤§æ•°æ® (åŸºäºè§†å›¾ View)</h3>
<div class="grid">
    <article>
        <header>ç²‰ä¸æ€»æ•°</header>
        {{ stats['ç²‰ä¸æ€»æ•°'] }} äºº
    </article>
    <article>
        <header>å¹³å‡å¹´é¾„</header>
        {{ stats['å¹³å‡å¹´é¾„'] }} å²
    </article>
    <article>
        <header>æœ¬ç§‘ç‡</header>
        {{ stats['æœ¬ç§‘ç²‰ä¸æ•°'] }} / {{ stats['ç²‰ä¸æ€»æ•°'] }}
    </article>
</div>
{% endif %}

{% endblock %}

<hr>

{% if user and user.type == 'fan' %}
    <h3>ğŸ“ å‘è¡¨ä¹è¯„</h3>
    <form action="/add_review" method="POST">
        <input type="hidden" name="album_id" value="1"> 
        
        <div class="grid">
            <label>
                è¯„åˆ† (0-10)
                <input type="number" name="score" min="0" max="10" step="0.1" required>
            </label>
            <label>
                è¯„è®ºå†…å®¹
                <input type="text" name="comment" placeholder="è¯´ç‚¹ä»€ä¹ˆ..." required>
            </label>
        </div>
        <button type="submit">æäº¤è¯„ä»·</button>
    </form>
{% elif not user %}
    <p>ğŸ’¡ <a href="/login">ç™»å½•</a> åå¯ä»¥å‘è¡¨ä¹è¯„ã€‚</p>
{% endif %}
