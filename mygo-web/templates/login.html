{% extends "base.html" %}

{% block content %}
<style>
    /* ================= Apple é£æ ¼è‡ªå®šä¹‰ CSS ================= */
    
    /* 1. èƒŒæ™¯ï¼šApple ç»å…¸çš„æµ…ç°è‰²èƒŒæ™¯ï¼Œè®©ç™½è‰²å¡ç‰‡æµ®èµ·æ¥ */
    body {
        background-color: #f5f5f7 !important;
        font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", Helvetica, Arial, sans-serif;
    }

    /* 2. ç™»å½•å¡ç‰‡ï¼šå»è¾¹æ¡†ã€å¤§åœ†è§’ã€æè‡´æŸ”å’Œçš„æ‰©æ•£é˜´å½± */
    .apple-card {
        background: #ffffff;
        border: none;
        border-radius: 20px; /* æ›´å¤§çš„åœ†è§’ */
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08); /* é«˜çº§æ„Ÿé˜´å½± */
        padding: 48px 40px;
        max-width: 400px;
        width: 100%;
        margin: 0 auto;
        /* å…¥åœºåŠ¨ç”» */
        animation: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }

    /* 3. è¾“å…¥æ¡†ï¼šå¤§å†…è¾¹è·ã€éšè—é»˜è®¤è¾¹æ¡†ã€èšç„¦æ—¶å‘å‡ºæŸ”å’Œè“å…‰ */
    .form-control, .form-select {
        background-color: #ffffff;
        border: 1px solid #d2d2d7; /* æµ…ç°è¾¹æ¡† */
        border-radius: 12px;
        padding: 14px 16px;       /* æ›´é«˜å¤§çš„è¾“å…¥æ¡† */
        font-size: 17px;          /* é»„é‡‘å­—å· */
        margin-bottom: 20px;
        box-shadow: none;
        transition: all 0.2s ease;
    }

    .form-control:focus, .form-select:focus {
        border-color: #0071e3;    /* Apple Blue */
        box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.12); /* è“è‰²å…‰æ™• */
    }

    /* 4. æŒ‰é’®ï¼šç»å…¸çš„è“è‰²èƒ¶å›ŠæŒ‰é’® */
    .btn-apple {
        background-color: #0071e3;
        border: none;
        border-radius: 980px; /* å®Œå…¨åœ†æ¶¦çš„èƒ¶å›Šå½¢ */
        padding: 12px 24px;
        font-size: 17px;
        font-weight: 500;
        width: 100%;
        color: white;
        transition: transform 0.1s, background-color 0.2s;
        margin-top: 10px;
    }

    .btn-apple:hover {
        background-color: #0077ed; /* æ‚¬åœå˜äº® */
        color: white;
    }

    .btn-apple:active {
        transform: scale(0.98); /* ç‚¹å‡»å¾®ç¼©åé¦ˆ */
    }

    /* 5. æ–‡å­—æ’ç‰ˆ */
    .apple-title {
        font-weight: 700;
        font-size: 28px;
        color: #1d1d1f;
        letter-spacing: -0.01em;
        margin-bottom: 8px;
    }

    .apple-subtitle {
        font-size: 15px;
        color: #86868b; /* é«˜çº§ç° */
        margin-bottom: 32px;
    }

    /* éšè—ä¸‘é™‹çš„æ ‡ç­¾ï¼Œç”¨ placeholder ä»£æ›¿ */
    .form-label {
        display: none;
    }

    /* åŠ¨ç”»å…³é”®å¸§ */
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    /* Logo åŠ¨ç”» */
    .logo-anim {
        display: inline-block;
        transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        cursor: default;
    }
    .logo-anim:hover {
        transform: rotate(-12deg) scale(1.1);
    }
</style>

<div class="container d-flex align-items-center justify-content-center" style="min-height: 85vh;">
    
    <div class="apple-card text-center">
        <div class="mb-4">
            <div class="logo-anim" style="font-size: 64px; line-height: 1;">
                ğŸ¸
            </div>
        </div>

        <h1 class="apple-title">æ¬¢è¿ç™»å½•</h1>
        <p class="apple-subtitle">MyGO ä¹é˜Ÿæ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</p>

        <form method="POST" class="text-start">
            
            <div class="mb-1">
                <select name="role" class="form-select" id="roleSelect" onchange="toggleHint()" style="cursor: pointer;">
                    <option value="fan">ğŸ¤ æ­Œè¿· (Fan)</option>
                    <option value="band">ğŸ¸ ä¹é˜Ÿ (Band)</option>
                    <option value="admin">ğŸ”§ ç®¡ç†å‘˜ (Admin)</option>
                </select>
            </div>

            <div class="mb-1">
                <input type="text" name="username" class="form-control" placeholder="ç”¨æˆ·å / ä¹é˜Ÿå" required autocomplete="off">
            </div>

            <div class="mb-4">
                <input type="password" name="password" class="form-control" placeholder="å¯†ç " required>
            </div>

            <button type="submit" class="btn btn-apple">
                ç™» å½•
            </button>
        </form>

        <div class="mt-4 pt-3 text-center">
            <span class="small text-muted" id="loginHint" style="font-size: 13px; transition: color 0.3s;">
                <i class="bi bi-person me-1"></i> è¯·è¾“å…¥æ³¨å†Œæ—¶çš„ç”¨æˆ·å
            </span>
        </div>
        
        <div class="mt-3">
            <a href="/" class="text-decoration-none small" style="color: #0071e3; font-size: 13px;">
                é‡åˆ°é—®é¢˜ï¼Ÿ <i class="bi bi-arrow-right-short"></i>
            </a>
        </div>
    </div>
</div>

<script>
    // åŠ¨æ€åˆ‡æ¢æç¤ºè¯­çš„è„šæœ¬
    function toggleHint() {
        var role = document.getElementById("roleSelect").value;
        var hint = document.getElementById("loginHint");
        
        // ä½¿ç”¨æ·¡å…¥æ·¡å‡ºæ•ˆæœåˆ‡æ¢æ–‡å­—
        hint.style.opacity = 0;
        
        setTimeout(function() {
            if(role === 'band') {
                hint.innerHTML = '<i class="bi bi-music-note-beamed me-1"></i> è¯·è¾“å…¥ä¹é˜Ÿ